# ТЕМА 7. Работа с файлами (ввод, вывод)
Отчет по Теме #7 выполнил(а):
- Ганиева Анастасия Ильсуровна
- ПИЭ-22-1

| Задание | Лаб_раб | Сам_раб |
| ------ | ------ | ------ |
| Задание 1 | + | + |
| Задание 2 | + | + |
| Задание 3 | + | + |
| Задание 4 | + | + |
| Задание 5 | + | + |
| Задание 6 | + | - |
| Задание 7 | + | - |
| Задание 8 | + | - |
| Задание 9 | + | - |
| Задание 10 | + | - |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Лабораторная работа №1

Составьте текстовый файл и положите его в одну директорию с программой на Python. Текстовый файл должен состоять минимум из двух строк.

```python
Добрый вечер!
Сегодня понедельник
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/1.png)

## Выводы

Создаем обычный текстовый файл и добавляем в него текст.

## Лабораторная работа №2

Напишите программу, которая выведет только первую строку из вашего файла, при этом используйте конструкцию open()/close().

```python
f = open ('exc1.txt', 'r', encoding='utf-8')
print(f.readline())
f.close()
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/2.png)

## Выводы

Программа выводит первую строку из файла: "Добрый вечер!"

## Лабораторная работа №3

Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию open()/close(). 

```python
file = open('exc1.txt', 'r', encoding='utf-8')
lines = file.readlines()
file.close()
print([line.strip() for line in lines])
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/3.png)

## Выводы
1. Открываем файл exc1.txt в режиме чтения ('r').
- Указываем кодировку UTF-8, чтобы корректно обработать текст.
2. Чтение файла
- Используем метод `readlines()`, который считывает все строки из файла и возвращает их в виде списка
3. Создаем новый список с помощью генератора списков.
- Для каждой строки из списка lines используем метод `strip()`, чтобы удалить лишние пробелы и символы новой строки в начале и конце строки.
- Результат выводится на экран с помощью функции `print()`.
4. В результате программа выводит массив.

## Лабораторная работа №4

Напишите программу, которая выведет все строки из вашего файла в массиве, при этом используйте конструкцию with open().

```python
with open('exc1.txt', 'r', encoding='utf-8') as file:
    lines = file.readlines()
print([line.strip() for line in lines])
```
### Результат.
![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/4.png)

## Выводы

1. Используя `with`, мы открываем файл и автоматически он закрывается по завершении блока. 
2. Чтение строк
-Как и в предыдущем варианте, все строки считываются и сохраняются в списке.
3. Обработка и вывод строк
-  `print([line.strip() for line in lines])` Результат выводится так же, как и в предыдущем коде, с использованием метода strip(), чтобы удалить лишние пробелы
4. В результате все строки выводятся в массив.

## Лабораторная работа №5

Напишите программу, которая выведет каждую строку из вашего файла отдельно, при этом используйте конструкцию with open().

```python
with open('exc1.txt', 'r', encoding='utf-8') as file:
    for line in file:
        print(line.strip())
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/5.png)

## Выводы

1. Конструкция `with open(...)` в Python используется для работы с файлами.
-  `with:` это контекстный менеджер, который обеспечивает автоматическое закрытие файла после завершения блока кода.
2. В результате в коде задействована конструкция with open(), а также каждая строка выводится по отдельности.

## Лабораторная работа №6

Напишите программу, которая будет добавлять новую строку в ваш файл, а потом выведет полученный файл в консоль. Вывод можно осуществлять любым способом. Обязательно проверьте сам файл, чтобы изменения в нем тоже отображались.

```python
with open('exc1.txt', 'a', encoding='utf-8') as file:
    file.write('\nЭто новая строка.')
with open('exc1.txt', 'r', encoding='utf-8') as file:
    print(file.read())
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/6.png)

## Выводы

1. Открытие файла
- `'a'` — режим добавления. Если файл уже существует, новые данные будут добавлены в конец файла. 
2. Записываем новую строку
- `file.write('nЭто новая строка.'` добавляет новую строку в файл. Символ n используется для переноса строки, чтобы текст начинался с новой строки.
3. Чтение содержимого файла
- `file.read()` считывает все содержимое файла и возвращает его в виде строки, которая затем выводится на экран.
4. В результате в файл добавлена новая строка.


## Лабораторная работа №7

Напишите программу, которая перепишет всю информацию, которая была у вас в файле до этого, например напишет любые данные из произвольно вами составленного списка. Также не забудьте проверить что измененная вами информация сохранилась в файле. 

```python
data = ['Изменение номер 1', 'Изменение номер 2', 'Изменение номер 3']
with open('exc1.txt', 'w', encoding='utf-8') as file:
    for line in data:
        file.write(line + '\n')
with open('exc1.txt', 'r', encoding='utf-8') as file:
    print(file.read())
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/7.png)

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/77.png)

## Выводы

1. Создание списка данных
-  `data = ['Изменение номер 1', 'Изменение номер 2', 'Изменение номер 3']`
2. Итерация по данным и запись:
 - Проходим по каждой строке в списке data.
 - Для каждой строки используем метод write(), добавляя символ новой строки (\n) после каждой записи, чтобы строки не сливались в одну.
3. Чтение данных и вывод.
4. В результате в файле появится новые строки, изменения сохраняются.

## Лабораторная работа №8

Выберите любую папку на своем компьютере, имеющую вложенные директории. Выведите на печать в терминал ее содержимое, как и всех подкаталогов при помощи функции print_docs(directory).

```python
import os
def print_docs(directory):
    all_files = os.walk(directory)
    for catalog in all_files:
        print(f'Папка {catalog[0]} содержит:')
        print(f'Директории:  {", ".join(catalog[1])}')
        print(f'Файлы:  {", ".join(catalog[2])}')
        print('-' * 40)

print_docs(r'C:\\Users\\Nastya\\PycharmProjects\\pythonProject5')
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/8.png)

## Выводы

1. Импорт модуля `os`: 
- Это стандартный модуль Python, который предоставляет множество функций для работы с файлами и директориями. В данном случае он используется для навигации по файловой системе.
2. Функция `print_docs(directory):` 
- Принимает в качестве параметра путь к директории и выполняет обход файлов в ней.
- Использование directory в функции позволяет легко изменять путь при вызове.
3. os.walk(directory):
- Генерирует кортежи, где каждый кортеж состоит из:
     - `catalog[0]:` Путь к текущей папке.
     - `catalog[1]:` Список поддиректорий в текущей папке.
     - `catalog[2]:` Список файлов в текущей папке.
4. Разделитель:
- `print('-' * 40)` добавляет визуальный разделитель между выводами разных папок, что улучшает читабельность.

## Лабораторная работа №9

Документ «input.txt» содержит следующий текст: 
Приветствие
Спасибо 
Извините 
Пожалуйста 
До свидания 
Ты готов?
Как дела?
С днем рождения! 
Удача!
Я тебя люблю.
Требуется реализовать функцию, которая выводит слово, имеющее максимальную длину (или список слов, если таковых несколько).
Проверьте работоспособность программы на своем наборе данных.

```python
def max_l(filename):
    with open(filename, 'r', encoding='utf-8') as file:
        words = file.read().split()
    max_length = max(len(word) for word in words)
    longest_word = next(word for word in words if len(word) == max_length)
    return longest_word
print(max_l('exc1.txt'))
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/9.png)

## Выводы

1. Определение функции:
- Функция `max_l` принимает один аргумент — имя файла `(filename)`, из которого будет извлекаться информация.
2. Открытие файла:
- Используется конструкция `with open(...)`, которая автоматически закрывает файл после завершения работы с ним. 
3. Чтение и разбиение текста:
- Содержимое файла считывается с помощью `file.read()`, а затем разбивается на отдельные слова с помощью метода `.split()`. 
4. Поиск максимальной длины слова:
- Используется  выражение `len(word) for word in words`, чтобы получить длины всех слов в списке, и функция `max()` находит максимальное значение среди них.
5. Поиск самого длинного слова:
- Функция `next()` используется для нахождения первого слова, длина которого равна ` max_length`. Генераторное выражение внутри `next()` перебирает слова и возвращает первое подходящее.
6. Возврат результата:
- Функция возвращает самое длинное слово, найденное в файле.
7. Вызов функции и вывод результата:
- Функция `max_l` вызывается с именем файла `'exc1.txt'`, и результат (самое длинное слово) выводится на экран с помощью `print()`.

## Лабораторная работа №10

Требуется создать csv-файл «rows_300.csv» со следующими столбцами:
•	№ - номер по порядку (от 1 до 300);
•	Секунда – текущая секунда на вашем ПК;
•	Микросекунда – текущая миллисекунда на часах.
Для наглядности на каждой итерации цикла искусственно приостанавливайте скрипт на 0,01 секунду.

```python
import csv
import time
with open('file_csv.csv', 'w', newline='') as csvfile:
    writer = csv.writer(csvfile)
    writer.writerow(['№', 'Секунда', 'Микросекунда'])
    for i in range(1, 301):
        seconds = time.localtime().tm_sec
        microseconds = int(time.time() * 1e6) % 1e6
        print(f"Строка {i}: Секунды - {seconds}, Микросекунды - {microseconds}")
        writer.writerow([i, seconds, microseconds])
        time.sleep(0.01)
```
### Результат.

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/10.png)

![image](https://github.com/GanievaAnastasiia/Software_Engineering/blob/Тема_7/images7/1010.png)

## Выводы

1. Импорт библиотек:
- ` import csv` 
- `import time` 
2. Создание файла `file_csv.csv` для записи ('w'). Первая строка CSV-файла будет заголовком с названиями колонок: `№, Секунда, Микросекунда`.
3. Выполнение цикла:
- Цикл будет выполнять 300 итераций (от 1 до 300).
   - В каждой итерации извлекается текущее значение секунд (seconds) и вычисляются микросекунды (microseconds).
   - Затем выводится сообщение в консоль, показывающее номер строки, секунды и микросекунды.
   - Данные записываются в файл CSV.
   - В конце каждой итерации программа «засыпает» на 0.01 секунды.
4. В результате создается csv файл. 

